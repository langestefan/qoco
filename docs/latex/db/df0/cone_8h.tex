\hypertarget{cone_8h}{}\doxysection{include/cone.h File Reference}
\label{cone_8h}\index{include/cone.h@{include/cone.h}}
{\ttfamily \#include \char`\"{}linalg.\+h\char`\"{}}\newline
Include dependency graph for cone.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{de/de5/cone_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/de0/cone_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{cone_8h_ae38a99844d34958127f6a0928a3a81b3}{cone\+\_\+product}} (QCOSFloat $\ast$u, QCOSFloat $\ast$v, QCOSFloat $\ast$p, \mbox{\hyperlink{structQCOSProblemData}{QCOSProblem\+Data}} $\ast$data)
\begin{DoxyCompactList}\small\item\em Computes cone product u $\ast$ v = p with respect to C. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cone_8h_afa73aa545a8d3b8a7143a45eb623f5ed}{cone\+\_\+division}} (QCOSFloat $\ast$lambda, QCOSFloat $\ast$v, QCOSFloat $\ast$d, \mbox{\hyperlink{structQCOSProblemData}{QCOSProblem\+Data}} $\ast$data)
\begin{DoxyCompactList}\small\item\em Computed cone division lambda \# v = d. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cone_8h_a05644a809b00420985d3a465b628ebef}{soc\+\_\+product}} (QCOSFloat $\ast$u, QCOSFloat $\ast$v, QCOSFloat $\ast$p, QCOSInt n)
\begin{DoxyCompactList}\small\item\em Computes second-\/order cone product u $\ast$ v = p. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cone_8h_aea56612fcbae31f163de92776165932e}{soc\+\_\+division}} (QCOSFloat $\ast$lam, QCOSFloat $\ast$v, QCOSFloat $\ast$d, QCOSInt n)
\begin{DoxyCompactList}\small\item\em Commpues second-\/order cone division lambda \# v = d. \end{DoxyCompactList}\item 
QCOSFloat \mbox{\hyperlink{cone_8h_a8a6a6364f56721a19cb9866ce13193e7}{soc\+\_\+residual}} (QCOSFloat $\ast$u, QCOSInt n)
\begin{DoxyCompactList}\small\item\em Computes residual of vector u with respect to the second order cone of dimension n. \end{DoxyCompactList}\item 
QCOSFloat \mbox{\hyperlink{cone_8h_a0f4e51d4919b7e1e9afd8f58cc391e47}{soc\+\_\+residual2}} (QCOSFloat $\ast$u, QCOSInt n)
\begin{DoxyCompactList}\small\item\em Computes u0$^\wedge$2 -\/ u1\textquotesingle{}$\ast$u1 of vector u with respect to the second order cone of dimension n. \end{DoxyCompactList}\item 
QCOSFloat \mbox{\hyperlink{cone_8h_a3f9cfa8e07709d3ca39fdedfdc39b099}{cone\+\_\+residual}} (QCOSFloat $\ast$u, \mbox{\hyperlink{structQCOSProblemData}{QCOSProblem\+Data}} $\ast$data)
\begin{DoxyCompactList}\small\item\em Computes residual of vector u with respect to cone C. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cone_8h_acef168ff9f0dd13d2b60b85f159e21d6}{bring2cone}} (QCOSFloat $\ast$u, \mbox{\hyperlink{structQCOSProblemData}{QCOSProblem\+Data}} $\ast$data)
\begin{DoxyCompactList}\small\item\em Performs u = u + (1 + a) $\ast$ e where e is the cannonical vector for each cone LP Cone\+: e = ones(n), second-\/order cone\+: e = (1,0,0,...) and a is the minimum scalar value such that u + (1 + a) $\ast$ e is in cone C. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cone_8h_a3027fc6abee7d5231ffc26a137d595b9}{nt\+\_\+multiply}} (QCOSFloat $\ast$W, QCOSFloat $\ast$x, QCOSFloat $\ast$z, QCOSInt l, QCOSInt m, QCOSInt ncones, QCOSInt $\ast$q)
\begin{DoxyCompactList}\small\item\em Computes z = W $\ast$ x where W is a full Nesterov-\/\+Todd scaling matrix. The NT scaling array for the LP cones are stored first, then the NT scalings for the second-\/order order cones are stores in column major order. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cone_8h_aa9d319888db390c7c2b965061ba72cfe}{compute\+\_\+mu}} (\mbox{\hyperlink{structQCOSWorkspace}{QCOSWorkspace}} $\ast$work)
\begin{DoxyCompactList}\small\item\em Computes gap (z\textquotesingle{}$\ast$s / m) and stores in work-\/$>$mu. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cone_8h_a12d2e90953304f38fc093cc51b53eafd}{compute\+\_\+nt\+\_\+scaling}} (\mbox{\hyperlink{structQCOSWorkspace}{QCOSWorkspace}} $\ast$work)
\begin{DoxyCompactList}\small\item\em Compute Nesterov-\/\+Todd scalings and scaled variables. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cone_8h_a0cf1af57b5dbef07f165d2aa87c07baa}{compute\+\_\+centering}} (\mbox{\hyperlink{structQCOSSolver}{QCOSSolver}} $\ast$solver)
\begin{DoxyCompactList}\small\item\em Computes centering parameter. \end{DoxyCompactList}\item 
QCOSFloat \mbox{\hyperlink{cone_8h_a3a332345e9e7bcd906738d5b0168a301}{linesearch}} (QCOSFloat $\ast$u, QCOSFloat $\ast$Du, QCOSFloat f, \mbox{\hyperlink{structQCOSSolver}{QCOSSolver}} $\ast$solver)
\begin{DoxyCompactList}\small\item\em Conducts linesearch by bisection to compute a \textbackslash{}in (0, 1\mbox{]} such that u + (a / f) $\ast$ Du \textbackslash{}in C Warning\+: linesearch overwrites ubuff1. Do not pass in ubuff1 into u or Du. Consider a dedicated buffer for linesearch. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Govind M. Chari \href{mailto:govindchari1@gmail.com}{\texttt{ govindchari1@gmail.\+com}}
\end{DoxyAuthor}
\hypertarget{utils_8c_LICENSE}{}\doxysubsection{LICENSE}\label{utils_8c_LICENSE}
Copyright (c) 2024, Govind M. Chari This source code is licensed under the BSD 2-\/Clause License\hypertarget{utils_8h_DESCRIPTION}{}\doxysubsection{DESCRIPTION}\label{utils_8h_DESCRIPTION}
Includes various functions necessary for cone operations. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{cone_8h_acef168ff9f0dd13d2b60b85f159e21d6}\label{cone_8h_acef168ff9f0dd13d2b60b85f159e21d6}} 
\index{cone.h@{cone.h}!bring2cone@{bring2cone}}
\index{bring2cone@{bring2cone}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{bring2cone()}{bring2cone()}}
{\footnotesize\ttfamily void bring2cone (\begin{DoxyParamCaption}\item[{QCOSFloat $\ast$}]{u,  }\item[{\mbox{\hyperlink{structQCOSProblemData}{QCOSProblem\+Data}} $\ast$}]{data }\end{DoxyParamCaption})}



Performs u = u + (1 + a) $\ast$ e where e is the cannonical vector for each cone LP Cone\+: e = ones(n), second-\/order cone\+: e = (1,0,0,...) and a is the minimum scalar value such that u + (1 + a) $\ast$ e is in cone C. 


\begin{DoxyParams}{Parameters}
{\em u} & Vector to bring to cone. \\
\hline
{\em data} & Pointer to problem data. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cone_8h_a0cf1af57b5dbef07f165d2aa87c07baa}\label{cone_8h_a0cf1af57b5dbef07f165d2aa87c07baa}} 
\index{cone.h@{cone.h}!compute\_centering@{compute\_centering}}
\index{compute\_centering@{compute\_centering}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{compute\_centering()}{compute\_centering()}}
{\footnotesize\ttfamily void compute\+\_\+centering (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structQCOSSolver}{QCOSSolver}} $\ast$}]{solver }\end{DoxyParamCaption})}



Computes centering parameter. 


\begin{DoxyParams}{Parameters}
{\em solver} & Pointer to solver. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cone_8h_aa9d319888db390c7c2b965061ba72cfe}\label{cone_8h_aa9d319888db390c7c2b965061ba72cfe}} 
\index{cone.h@{cone.h}!compute\_mu@{compute\_mu}}
\index{compute\_mu@{compute\_mu}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{compute\_mu()}{compute\_mu()}}
{\footnotesize\ttfamily void compute\+\_\+mu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structQCOSWorkspace}{QCOSWorkspace}} $\ast$}]{work }\end{DoxyParamCaption})}



Computes gap (z\textquotesingle{}$\ast$s / m) and stores in work-\/$>$mu. 


\begin{DoxyParams}{Parameters}
{\em work} & Pointer to workspace. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cone_8h_a12d2e90953304f38fc093cc51b53eafd}\label{cone_8h_a12d2e90953304f38fc093cc51b53eafd}} 
\index{cone.h@{cone.h}!compute\_nt\_scaling@{compute\_nt\_scaling}}
\index{compute\_nt\_scaling@{compute\_nt\_scaling}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{compute\_nt\_scaling()}{compute\_nt\_scaling()}}
{\footnotesize\ttfamily void compute\+\_\+nt\+\_\+scaling (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structQCOSWorkspace}{QCOSWorkspace}} $\ast$}]{work }\end{DoxyParamCaption})}



Compute Nesterov-\/\+Todd scalings and scaled variables. 


\begin{DoxyParams}{Parameters}
{\em work} & Pointer to workspace. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cone_8h_afa73aa545a8d3b8a7143a45eb623f5ed}\label{cone_8h_afa73aa545a8d3b8a7143a45eb623f5ed}} 
\index{cone.h@{cone.h}!cone\_division@{cone\_division}}
\index{cone\_division@{cone\_division}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{cone\_division()}{cone\_division()}}
{\footnotesize\ttfamily void cone\+\_\+division (\begin{DoxyParamCaption}\item[{QCOSFloat $\ast$}]{lambda,  }\item[{QCOSFloat $\ast$}]{v,  }\item[{QCOSFloat $\ast$}]{d,  }\item[{\mbox{\hyperlink{structQCOSProblemData}{QCOSProblem\+Data}} $\ast$}]{data }\end{DoxyParamCaption})}



Computed cone division lambda \# v = d. 


\begin{DoxyParams}{Parameters}
{\em lambda} & Input vector. \\
\hline
{\em v} & Input vector. \\
\hline
{\em d} & Cone quotient of lambda and v. \\
\hline
{\em data} & Pointer to problem data. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cone_8h_ae38a99844d34958127f6a0928a3a81b3}\label{cone_8h_ae38a99844d34958127f6a0928a3a81b3}} 
\index{cone.h@{cone.h}!cone\_product@{cone\_product}}
\index{cone\_product@{cone\_product}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{cone\_product()}{cone\_product()}}
{\footnotesize\ttfamily void cone\+\_\+product (\begin{DoxyParamCaption}\item[{QCOSFloat $\ast$}]{u,  }\item[{QCOSFloat $\ast$}]{v,  }\item[{QCOSFloat $\ast$}]{p,  }\item[{\mbox{\hyperlink{structQCOSProblemData}{QCOSProblem\+Data}} $\ast$}]{data }\end{DoxyParamCaption})}



Computes cone product u $\ast$ v = p with respect to C. 


\begin{DoxyParams}{Parameters}
{\em u} & Input vector. \\
\hline
{\em v} & Input vector. \\
\hline
{\em p} & Cone product of u and v. \\
\hline
{\em data} & Pointer to problem data. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cone_8h_a3f9cfa8e07709d3ca39fdedfdc39b099}\label{cone_8h_a3f9cfa8e07709d3ca39fdedfdc39b099}} 
\index{cone.h@{cone.h}!cone\_residual@{cone\_residual}}
\index{cone\_residual@{cone\_residual}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{cone\_residual()}{cone\_residual()}}
{\footnotesize\ttfamily QCOSFloat cone\+\_\+residual (\begin{DoxyParamCaption}\item[{QCOSFloat $\ast$}]{u,  }\item[{\mbox{\hyperlink{structQCOSProblemData}{QCOSProblem\+Data}} $\ast$}]{data }\end{DoxyParamCaption})}



Computes residual of vector u with respect to cone C. 


\begin{DoxyParams}{Parameters}
{\em u} & Vector to be tested. \\
\hline
{\em data} & Pointer to problem data. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Residual\+: Negative if the vector is in the cone and positive otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{cone_8h_a3a332345e9e7bcd906738d5b0168a301}\label{cone_8h_a3a332345e9e7bcd906738d5b0168a301}} 
\index{cone.h@{cone.h}!linesearch@{linesearch}}
\index{linesearch@{linesearch}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{linesearch()}{linesearch()}}
{\footnotesize\ttfamily QCOSFloat linesearch (\begin{DoxyParamCaption}\item[{QCOSFloat $\ast$}]{u,  }\item[{QCOSFloat $\ast$}]{Du,  }\item[{QCOSFloat}]{f,  }\item[{\mbox{\hyperlink{structQCOSSolver}{QCOSSolver}} $\ast$}]{solver }\end{DoxyParamCaption})}



Conducts linesearch by bisection to compute a \textbackslash{}in (0, 1\mbox{]} such that u + (a / f) $\ast$ Du \textbackslash{}in C Warning\+: linesearch overwrites ubuff1. Do not pass in ubuff1 into u or Du. Consider a dedicated buffer for linesearch. 


\begin{DoxyParams}{Parameters}
{\em u} & Initial vector. \\
\hline
{\em Du} & Search direction. \\
\hline
{\em f} & Conservatism factor. \\
\hline
{\em work} & Pointer to workspace. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Step-\/size. 
\end{DoxyReturn}
\mbox{\Hypertarget{cone_8h_a3027fc6abee7d5231ffc26a137d595b9}\label{cone_8h_a3027fc6abee7d5231ffc26a137d595b9}} 
\index{cone.h@{cone.h}!nt\_multiply@{nt\_multiply}}
\index{nt\_multiply@{nt\_multiply}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{nt\_multiply()}{nt\_multiply()}}
{\footnotesize\ttfamily void nt\+\_\+multiply (\begin{DoxyParamCaption}\item[{QCOSFloat $\ast$}]{W,  }\item[{QCOSFloat $\ast$}]{x,  }\item[{QCOSFloat $\ast$}]{z,  }\item[{QCOSInt}]{l,  }\item[{QCOSInt}]{m,  }\item[{QCOSInt}]{ncones,  }\item[{QCOSInt $\ast$}]{q }\end{DoxyParamCaption})}



Computes z = W $\ast$ x where W is a full Nesterov-\/\+Todd scaling matrix. The NT scaling array for the LP cones are stored first, then the NT scalings for the second-\/order order cones are stores in column major order. 


\begin{DoxyParams}{Parameters}
{\em W} & Nesterov Todd scaling matrix. \\
\hline
{\em x} & Input vector. \\
\hline
{\em z} & Output vector. \\
\hline
{\em l} & Dimension of LP cone. \\
\hline
{\em m} & Length of x. \\
\hline
{\em ncones} & Number of second-\/order cones in C. \\
\hline
{\em q} & Array of second-\/order cone dimensions. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cone_8h_aea56612fcbae31f163de92776165932e}\label{cone_8h_aea56612fcbae31f163de92776165932e}} 
\index{cone.h@{cone.h}!soc\_division@{soc\_division}}
\index{soc\_division@{soc\_division}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{soc\_division()}{soc\_division()}}
{\footnotesize\ttfamily void soc\+\_\+division (\begin{DoxyParamCaption}\item[{QCOSFloat $\ast$}]{lam,  }\item[{QCOSFloat $\ast$}]{v,  }\item[{QCOSFloat $\ast$}]{d,  }\item[{QCOSInt}]{n }\end{DoxyParamCaption})}



Commpues second-\/order cone division lambda \# v = d. 


\begin{DoxyParams}{Parameters}
{\em lam} & lam = (lam0, lam1) is a vector in second-\/order cone of dimension n. \\
\hline
{\em v} & v = (v0, v1) is a vector in second-\/order cone of dimension n. \\
\hline
{\em d} & Cone divisin of lam and v. \\
\hline
{\em n} & Dimension of second-\/order cone. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cone_8h_a05644a809b00420985d3a465b628ebef}\label{cone_8h_a05644a809b00420985d3a465b628ebef}} 
\index{cone.h@{cone.h}!soc\_product@{soc\_product}}
\index{soc\_product@{soc\_product}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{soc\_product()}{soc\_product()}}
{\footnotesize\ttfamily void soc\+\_\+product (\begin{DoxyParamCaption}\item[{QCOSFloat $\ast$}]{u,  }\item[{QCOSFloat $\ast$}]{v,  }\item[{QCOSFloat $\ast$}]{p,  }\item[{QCOSInt}]{n }\end{DoxyParamCaption})}



Computes second-\/order cone product u $\ast$ v = p. 


\begin{DoxyParams}{Parameters}
{\em u} & u = (u0, u1) is a vector in second-\/order cone of dimension n. \\
\hline
{\em v} & v = (v0, v1) is a vector in second-\/order cone of dimension n. \\
\hline
{\em p} & Cone product of u and v. \\
\hline
{\em n} & Dimension of second-\/order cone. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cone_8h_a8a6a6364f56721a19cb9866ce13193e7}\label{cone_8h_a8a6a6364f56721a19cb9866ce13193e7}} 
\index{cone.h@{cone.h}!soc\_residual@{soc\_residual}}
\index{soc\_residual@{soc\_residual}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{soc\_residual()}{soc\_residual()}}
{\footnotesize\ttfamily QCOSFloat soc\+\_\+residual (\begin{DoxyParamCaption}\item[{QCOSFloat $\ast$}]{u,  }\item[{QCOSInt}]{n }\end{DoxyParamCaption})}



Computes residual of vector u with respect to the second order cone of dimension n. 


\begin{DoxyParams}{Parameters}
{\em u} & u = (u0, u1) is a vector in second-\/order cone of dimension n. \\
\hline
{\em n} & Dimension of second order cone. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Residual\+: norm(u1) -\/ u0. Negative if the vector is in the cone and positive otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{cone_8h_a0f4e51d4919b7e1e9afd8f58cc391e47}\label{cone_8h_a0f4e51d4919b7e1e9afd8f58cc391e47}} 
\index{cone.h@{cone.h}!soc\_residual2@{soc\_residual2}}
\index{soc\_residual2@{soc\_residual2}!cone.h@{cone.h}}
\doxysubsubsection{\texorpdfstring{soc\_residual2()}{soc\_residual2()}}
{\footnotesize\ttfamily QCOSFloat soc\+\_\+residual2 (\begin{DoxyParamCaption}\item[{QCOSFloat $\ast$}]{u,  }\item[{QCOSInt}]{n }\end{DoxyParamCaption})}



Computes u0$^\wedge$2 -\/ u1\textquotesingle{}$\ast$u1 of vector u with respect to the second order cone of dimension n. 


\begin{DoxyParams}{Parameters}
{\em u} & u = (u0, u1) is a vector in second order cone of dimension n. \\
\hline
{\em n} & Dimension of second order cone. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Residual\+: u0$^\wedge$2 -\/ u1\textquotesingle{}$\ast$u1. 
\end{DoxyReturn}
